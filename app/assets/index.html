<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>index</title>
    <link rel="stylesheet" href="css/reboot.css">
    <link href="https://opensource.keycdn.com/fontawesome/4.7.0/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/main.js"></script>
</head>
<body>
<div class="box">
    <div class="content">
        <header class="header">
            <div class="container">
                <div class="head_flex">
                    <div class="head_left">
                        <a href="index.html" class="logo">
                            <div class="brand">
                                bran<span class="brand-d">d</span>
                            </div>
                        </a>
                        <form class="header_middle">
                            <div class="browse_menu_hidden">
                                <div class="header_browse">
                                    Browse
                                    <i class="fa fa-caret-down fa-browse" aria-hidden="true"></i>
                                </div>
                                <div class="browse_menu" id="browse_menu">
                                    <div class="transform"></div>
                                    <p>women</p>
                                    <div class="browse-list-men">
                                        <a href="#">Dresses</a>
                                        <a href="#">Tops</a>
                                        <a href="#">Sweaters/Knits</a>
                                        <a href="#">Jackets/Coats</a>
                                        <a href="#">Blazers</a>
                                        <a href="#">Denim</a>
                                        <a href="#">Leggings/Pants</a>
                                        <a href="#">Skirts/Shorts</a>
                                        <a href="#">Accessories</a>
                                    </div>
                                    <p>men</p>
                                    <div class="browse-list-women">
                                        <a href="#">Tees/Tank tops</a>
                                        <a href="#">Shirts/Polos</a>
                                        <a href="#">Sweaters</a>
                                        <a href="#">Sweatshirts/Hoodies</a>
                                        <a href="#">Blazers</a>
                                        <a href="#">Jackets/vests</a>
                                    </div>
                                </div>
                            </div>
                            <input type="search" id="search" class="header_search" placeholder="Search for Item...">
                            <div class="header_search_submit" type="submit">
                                <i class="fa fa-search" aria-hidden="true"></i>
                            </div>
                        </form>
                    </div>
                    <div class="head_right">
                        <div id="basket">
                            <div class="cart">
                                <div class="items_number"><span id="item_number">0</span></div>
                            </div>
                            <div class="cart-hide">
                                <div class="load"></div>
                                <div class="transform"></div>
                                <div class="cart_price">
                                    <p>TOTAL</p>
                                    <p>$<span id="total_price">0</span>.00</p></div>
                                <a class="cart_checkout" href="/checkout/">Checkout</a>
                                <a class="cart_to_cart" href="/cart/">Go to cart</a>
                            </div>
                        </div>
                        <div id="autentification">
                            <div class="my-Account"> My Account
                                <i class="fa fa-caret-down" aria-hidden="true"></i>
                            </div>
                            <div id="autorize">
                                <form class="authorization" method="post" action="/">
                                    <label for="login">Email adress: </label><input type="text" name="login"
                                                                                    id="login"/><br>
                                    <label for="password">Password: </label><input type="password" name="pass"
                                                                                   id="pass"/> <br>
                                    <div style="display: flex"><label for="rememberme">Remember me: </label>
                                        <input type="checkbox" name="rememberme" id="rememberme"/></div>
                                    <br>
                                    <input class="button-enter" type="button" name="Submgin" value="LOG IN"
                                           onclick="register()"/>
                                    <br>
                                    <!-- <a href="/register/">Register</a> -->
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <nav class="container top_menu" id="top_menu">
            <!-- загружено через js -->
        </nav>
        <div class="slider">
            <div class="container">
                <div class="slider_img">
                    <div class="slider_text">
                        <span class="slider_text_brand">the brand</span><br>
                        <span class="slider_text_lux"> of luxerious</span>
                        <span class="slider_text_fashion">fashion</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="offers">
                <div class="parent">
                    <a href="product.html" class="item item1">
                        <div class="white_block">
                            <span class="white_text_1"> hot deal </span>
                            <br> <span class="white_text_2">for men </span>
                        </div>
                    </a>
                    <a href="shopping_cart.html" class="item item2">
                        <div class="white_block">
                            <span class="white_text_1"> luxirous &amp; trendy </span>
                            <br> <span class="white_text_2">accesories </span>
                        </div>
                    </a>
                </div>
                <div class="parent">
                    <a href="single_page.html" class="item item3">
                        <div class="white_block">
                            <span class="white_text_1"> 30% offer </span>
                            <br> <span class="white_text_2">women </span>
                        </div>
                    </a>
                    <a href="#" class="item item4">
                        <div class="white_block">
                            <span class="white_text_1"> new arrivals</span>
                            <br> <span class="white_text_2">for kids </span>
                        </div>
                    </a>
                </div>
            </div>
            <section class="fetured">
                <h2 class="fetured_text_1">fetured items </h2>
                <p class="fetured_text_2">Shop for items based on what we featured in this week </p>
                <div class="fetured_parent" id="featured_parent">

                </div>
                <a href="#" class="browse_all" onclick="return false">
                    Browse All Product
                    <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                </a>
            </section>
            <div class="picture">
                <div class="picture_left">
                    <div class="picture_text">
                        <span class="picture_text_1">30% </span>
                        <span class="picture_text_2">offer </span> <br>
                        <span class="picture_text_3">for women</span>
                    </div>
                </div>
                <div class="picture_right">
                    <article class="picture-icon1">
                        <a href="#">
                            <h4>Free Delivery</h4>
                        </a>
                        <p>Worldwide delivery on all. Authorit tively morph next-generation innov tion with extensive
                            models.</p>
                    </article>
                    <article class="picture-icon2">
                        <a href="#"><h4>Sales & discounts</h4></a>
                        <p>Worldwide delivery on all. Authorit tively morph next-generation innov tion with extensive
                            models.</p>
                    </article>
                    <article class="picture-icon3">
                        <a href="#"><h4>Quality assurance</h4></a>
                        <p>Worldwide delivery on all. Authorit tively morph next-generation innov tion with extensive
                            models.</p>
                    </article>
                </div>
            </div>
        </div>
        <div class="subscribe">
            <div class="back_opacity">
                <div class="sub container">
                    <article class="sub_left">

                        <div class="click_bar">
                            <div class="click"></div>
                            <div class="click act"></div>
                            <div class="click"></div>
                        </div>
                    </article>
                    <div class="sub_right">
                        <div class="sub_right_h">Subscribe</div>
                        <div class="sub_right_p"> FOR OUR NEWLETTER AND PROMOTION</div>
                        <form class="sub_right_form">
                            <input class="email-subscribe" id="email_subscribe" placeholder="Enter Your Email" required
                                   pattern="\S+@[a-z]+.[a-z]+">
                            <button class="email-subscribe-submit" type="submit">Subscribe</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="company_information">
                <article class="left_menu">
                    <a href="index.html" class="logo">
                        <h3 class="brand"> bran<span class="brand-d">d</span></h3>
                    </a>
                    <p class="left_menu_text"> Objectively transition extensive data rather than cross functional
                        solutions. Monotonectally syndicate multidisciplinary materials before go forward benefits.
                        Intrinsicly syndicate an expanded array of processes and cross-unit partnerships.
                        <br>
                        <br> Efficiently plagiarize 24/365 action items and focused infomediaries. Distinctively seize
                        superior initiatives for wireless technologies. Dynamically optimize.
                    </p>
                </article>
                <nav class="right_menu">
                    <ul>
                        <li>company</li>
                        <li><a href="#">home</a></li>
                        <li><a href="#">shop</a></li>
                        <li><a href="#">about</a></li>
                        <li><a href="#">how it works</a></li>
                        <li><a href="#">contact</a></li>
                    </ul>
                    <ul>
                        <li>information</li>
                        <li><a href="#">tearms &amp; condition</a></li>
                        <li><a href="#">privacy policy</a></li>
                        <li><a href="#">how to buy</a></li>
                        <li><a href="#">how to sell</a></li>
                        <li><a href="#">promotion</a></li>
                    </ul>
                    <ul>
                        <li>shop category</li>
                        <li><a href="#">men</a></li>
                        <li><a href="#">women</a></li>
                        <li><a href="#">child</a></li>
                        <li><a href="#">apparel</a></li>
                        <li><a href="#">browse all</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container footer-flex">
            <div class="copyrights">&copy; 2017 Brand All Rights Reserved.</div>
            <ul class="footer_icons">
                <li><i class="fa fa-facebook" aria-hidden="true"></i></li>
                <li><i class="fa fa-twitter" aria-hidden="true"></i></li>
                <li><i class="fa fa-linkedin" aria-hidden="true"></i></li>
                <li><i class="fa fa-pinterest-square" aria-hidden="true"></i></li>
                <li><i class="fa fa-google-plus-square" aria-hidden="true"></i></li>
            </ul>
        </div>
    </footer>
</div>
<script>
    $(document).ready(function () {

        if($('#item_number').text()>0){
            $('.items_number').css('display', 'block');
        }

        // index-products
        var featItems = document.getElementsByClassName('fetured_item');
        $.ajax({
            method: "GET",
            url: './ajax/shopItems.json',
            dataType: "json",
            success: function (data) {
                for (var index in data.shopItems) {
                    new ShopItem(data.shopItems[index].id, data.shopItems[index].value, data.shopItems[index].href,
                        data.shopItems[index].src, data.shopItems[index].alt, data.shopItems[index].price,
                        data.shopItems[index].name, data.shopItems[index].rating).render('.fetured_parent');
                }
                for (var i = 8; i < featItems.length; i++) {
                    $(featItems[i]).hide();
                }
            }
        });


        $('.browse_all').on('click', function () {
            for (var i = 8; i < featItems.length; i++) {
                $(featItems[i]).slideDown('slow');
            }
            $(this).css('display', 'none');
        });


        // basket
        var basket = new Basket();
        //basket.render('#basket');


        $(document).on('click', '.cart', function () {
            $('.cart-hide').slideToggle('slow');
        });
        $(document).mouseup(function (e) {
            if (!$(e.target).closest("#basket").length) {
                $('.cart-hide').slideUp('slow');
            }
            e.stopPropagation();
        });


        $(document).on('click', '.header_browse', function () {
            $('.browse_menu').slideToggle('slow');
        });
        $(document).mouseup(function (e) {
            if (!$(e.target).closest(".browse_menu_hidden").length) {
                $('.browse_menu').slideUp('slow');
            }
            e.stopPropagation();
        });

        $('.load').on('click', '.fa', function () {
            var eventId = $(this).parents('.cart-hide_item')[0].id;
            basket.delete(eventId);
        });


        $('#featured_parent').on('click', '.fetured_item', function (e) {
            this.idProduct = $(this).attr('id').split('_')[1];
            this.src = $(this).find('.item_img').attr('src');
            this.alt = $(this).find('.item_img').attr('alt');
            this.quantity = $(this).attr('value');
            this.price = $(this).find('.fetured_price').text().replace('$', '');
            this.name = $(this).find('.fetured_text').text();
            this.rating = $(this).find('.stars_fetured').html();
            basket.add(this.idProduct, this.src, this.alt, this.quantity, this.price, this.name, this.rating);
        });


        //menu get & render
        $.ajax({
            method: "GET",
            url: './ajax/menu.json',
            dataType: "json",
            success: function (data) {
                var menuitems = [];
                for (var i = 0; i < data.length; i++) {
                    menuitems.push(new MenuItem(data[i].href, data[i].name, data[i].submenu));
                }
                document.getElementById('top_menu').innerHTML = (new Menu('my_menu', 'menu', menuitems).render());
            }
        });

        // forms
        var regExpMail = /^\w+\.?-?\w+@\w+\.\w+$/g;
        $('.email-subscribe-submit').on('click', function () {
            var emailInput = $('#email_subscribe');
            checkForm(emailInput, regExpMail);
            return false;
        });

        // citaty
        $('.click_bar').on('click', '.click', function () {
            $(this).siblings().removeClass('act');
            $(this).addClass('act');
            var act = $(this).index();
            $('.citaty').remove();
            $.ajax({
                method: "GET",
                url: './ajax/citatys.json',
                dataType: "json",
                success: function (data) {
                    new Citaty(data.citatys[act].url, data.citatys[act].text, data.citatys[act].author,
                        data.citatys[act].signature).render('.sub_left');
                }
            });
        });

        var act = $('.act').index();
        $.ajax({
            method: "GET",
            url: './ajax/citatys.json',
            dataType: "json",
            success: function (data) {
                new Citaty(data.citatys[act].url, data.citatys[act].text, data.citatys[act].author,
                    data.citatys[act].signature).render('.sub_left');
            }
        });


        // authorization
        $('.authorization').hide();
        $(document).on('click', '.my-Account', function () {
            $('.authorization').slideToggle('slow');
        });
        $(document).mouseup(function (e) {
            if (!$(e.target).closest("#autentification").length) {
                $('.authorization').slideUp('slow');
            }
            e.stopPropagation();
        });

    });
</script>
</body>
</html>